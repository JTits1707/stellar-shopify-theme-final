{% comment %}
  Transmission Archive Section
  Restricted content for Signal Seekers
{% endcomment %}

<section class="transmission-archive py-12 bg-black text-white">
  <div class="container mx-auto">
    <h2 class="text-3xl font-orbitron text-cyan-400 mb-6">Transmission Archive</h2>

    {% if encrypted and (customer == blank or not customer.tags contains 'signal-seeker') %}
      <div class="locked-archive text-center py-12 border border-cyan-400 rounded-lg">
        <p class="mb-4">This transmission is encrypted. Only Signal Seekers may access.</p>
        <a href="/account/login" class="btn btn--primary">Sign in to Decode</a>
      </div>
    {% else %}
      <div class="archive-grid grid grid-cols-1 md:grid-cols-3 gap-6">
        {% for block in section.blocks %}
          <div class="archive-item p-6 border border-purple-600 rounded-lg">
            <h3 class="font-bold mb-2">{{ block.settings.title }}</h3>
            <p class="text-gray-300">{{ block.settings.description }}</p>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Transmission Archive",
  "settings": [
    {
      "type": "checkbox",
      "id": "encrypted",
      "label": "Require Signal Seeker Access",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "transmission",
      "name": "Transmission",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Transmission Archive",
      "category": "Custom"
    }
  ]
}
{% endschema %}